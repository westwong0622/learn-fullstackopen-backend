(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{15:function(t,e,n){t.exports=n(38)},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(14),r=n.n(c),l=n(4),i=n(3),u=n(2),f=n.n(u),m=function(t){return t.showAll||t.note.important?a.a.createElement("li",{className:"note"},t.note.id,": ",t.note.content,": ",t.note.important.toString()," ",a.a.createElement("button",{onClick:t.toggleImportance},"Change")," ",a.a.createElement("button",{onClick:t.removeNote},"Remove")):null},d="http://localhost:3001/api/notes",s=function(){var t=f.a.get(d),e={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0};return t.then((function(t){return t.data.concat(e)}))},p=function(t){return f.a.post(d,t).then((function(t){return t.data}))},h=function(t,e){return f.a.put("".concat(d,"/").concat(t),e).then((function(t){return t.data}))},v=function(t){return f.a.delete("".concat(d,"/").concat(t)).then((function(t){return t.data}))},E=function(){return a.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"Note app, Department of Computer Science, University of Helsinki 2020"))},g=function(){var t=Object(o.useState)(!0),e=Object(i.a)(t,2),n=e[0],c=e[1],r=Object(o.useState)([]),u=Object(i.a)(r,2),f=u[0],d=u[1],g=Object(o.useState)(""),b=Object(i.a)(g,2),S=b[0],j=b[1];Object(o.useEffect)((function(){console.log("effect"),s().then((function(t){console.log("promise fulfilled"),d(t)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Notes"),a.a.createElement("div",null,"Show all notes: ",n.toString()," ",a.a.createElement("button",{onClick:function(t){c(!n)}},"Change")," "),a.a.createElement("div",null,a.a.createElement("input",{value:S,onChange:function(t){j(t.target.value),console.log(t.target.value)}})," ",a.a.createElement("button",{onClick:function(t){t.preventDefault();var e={content:S,date:new Date,important:Math.random()>.5};p(e).then((function(t){console.log(t),d(f.concat(t)),j("")}))}},"Add")),a.a.createElement("ul",null,f.map((function(t){return a.a.createElement(m,{key:t.id,note:t,showAll:n,toggleImportance:function(){return function(t){var e=f.find((function(e){return e.id===t})),n=Object(l.a)(Object(l.a)({},e),{},{important:!e.important});h(t,n).then((function(e){d(f.map((function(n){return n.id!==t?n:e})))})).catch((function(n){alert("the note '".concat(e.content,"' was already deleted from server")),d(f.filter((function(e){return e.id!==t})))}))}(t.id)},removeNote:function(){return function(t){var e=f.find((function(e){return e.id===t}));v(t).then((function(e){d(f.filter((function(e){return e.id!==t})))})).catch((function(n){alert("the note '".concat(e.content,"' was already deleted from server")),d(f.filter((function(e){return e.id!==t})))}))}(t.id)}})}))),a.a.createElement(E,null))};n(37);r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c06107fa.chunk.js.map